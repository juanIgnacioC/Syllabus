@using SaberesSyllabus.Repositories
@using SaberesySoluciones.Models
@using SaberesSyllabus.Models
@model List<Aprendizaje>


<h1>Gestión de Aprendizajes</h1>

<br />

@foreach (Aprendizaje aprendizaje in Model)
{
    <br />
    <h3>
        @aprendizaje.Codigo  - @aprendizaje.Descripcion
</h3>

    <button type="button" data-toggle="modal" data-target="#modalAddSubcat" class="btn btn-success btn-sm" onclick="addSubcat('@aprendizaje.Codigo')">
        <i class="fa fa-plus"></i> Agregar Saber
    </button>
    <br />

    foreach (Saber subcategoria in aprendizaje.Saberes)
    {
        <br />
        <h4>
            @aprendizaje.Codigo @subcategoria.Codigo - @subcategoria.Descripcion
        </h4>
        /*
        <button type="button" data-toggle="modal" data-target="#modalAddApren" class="btn btn-success btn-sm" onclick="addApren('@subcategoria.Id')">
            <i class="fa fa-plus"></i> Agregar Aprendizaje
        </button>
        <br />
        <br />
        <!--Table Aprendizajes-->
        <table class="table table-striped table-hover table-bordered">
            <thead class="thead-dark">
                <tr>
                    <th>Código</th>
                    <th>Descripción</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <!--Table content-->
                @foreach (Aprendizaje apren in subcategoria.Aprendizajes)
                {

                    <tr>
                        <td>@apren.Codigo</td>
                        <td style="text-align: justify">@apren.Descripcion</td>
                        <td style="vertical-align: middle; white-space: nowrap; text-align: right">
                            <button id="btn-edit" type="button" data-toggle="modal" data-target="#modalEditApren" class="btn btn-warning btn-sm"
                                    onclick="editApren('@apren.Codigo', '@apren.Descripcion')">
                                <i class="fa fa-edit"></i> Modificar
                            </button>
                            @if (@apren.Estado.ToString() == "Habilitado")
                        {
                                <button id="btn-disable" type="button" data-toggle="modal" data-target="#modalDisableApren" class="btn btn-danger btn-sm"
                                        onclick="disable('@apren.Codigo')">
                                    <i class="fa fa-eye-slash"></i> Deshabilitar
                                </button>


                            }
                            @if (@apren.Estado.ToString() == "Deshabilitado")
                        {
                                <button id="btn-disable" type="button" data-toggle="modal" data-target="#modalEnableApren" class="btn btn-primary btn-sm"
                                        onclick="enable('@apren.Codigo')">
                                    <i class="fa fa-eye"></i> Habilitar
                                </button>
                            }
                        </td>

                    </tr>
                }
            </tbody>
        </table>*/
    }
}




<!--Scripts-->
<script type="text/javascript">

    editCat = function (cat) {
        document.getElementById("categoriaprev").setAttribute("value", cat);
    }

    editSubcat = function (subcat) {
        document.getElementById("subcategoriaprev").setAttribute("value", subcat);
    }

    addSubcat = function (cat) {
        document.getElementById("categoria").setAttribute("value", cat);
    }

    addApren = function (subcat) {
        document.getElementById("subcategoria").setAttribute("value", subcat);
    }
    editApren = function (cod, desc) {
        document.getElementById("editaprencod").setAttribute("value", cod);
        document.getElementById("editaprendesc").setAttribute("value", desc);
    }

</script>

